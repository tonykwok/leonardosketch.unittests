<?xml version="1.0" ?>           
<project default="help">

    <target name="clean">
        <delete dir="repo"/>
    </target>
    
    <target name="init">
        <echo message="repo tag = ${repotag}"/>
        <echo message="output.file = ${output.file}"/>
    </target>
    
    <target name="checkout" depends="init">
        <exec executable="hg">
            <arg value="clone"/>
            <arg value="https://amino.leonardosketch.googlecode.com/hg/"/>            
            <arg value="repo"/>
            <arg value="-r"/> <arg value="${repotag}"/>
        </exec>
    </target>    
    
    <target name="gen-api" depends="init">
        <echo message="generating api"/>
        <javadoc 
            packagenames="org.joshy.gfx.css.*"
            sourcepath="repo/src"
            destdir="out"
            docletpath="../../../javafx-compiler/lib/shared/javafxdoc.jar"
            doclet="com.sun.tools.xmldoclet.XMLDoclet"
            classpath="../../amino/lib/parboiled-0.9.7.3.jar"
        >
            <arg value="-nohtml"/>            
            <arg value="-o"/><arg value="${output.file}"/>
        </javadoc>
        
    </target>
    
    <target name="all" depends="clean, checkout, gen-api">
    </target>

</project>
